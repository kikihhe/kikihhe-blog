---
title: BASE理论
date: 2023-11-03 00:16:49
permalink: /pages/793cbb/
---
## 1. 简介

BASE ：Basically Available（基本可用）、Soft-state（软状态）、Eventually Consistent（最终一致性）

BASE 理论就是这三个单词的缩写，BASE 理论是对 CAP 中一致性（C）和可用性（A）的权衡的结果，其来源于对大规模互联网系统分布式实践的经验，是基于 CAP 理论逐步演化而来的，它大大降低了我们对于系统的要求。

## 2. 核心思想

即使无法做到强一致性，但每个应用都可以根据自身业务的特点，采用适当的方式来使系统打到最终一致性。

>也就是牺牲数据的一致性来满足系统的高可用性，系统一部分数据不可用或者不一致时，仍需要保持系统整体的“主要可用”。

BASE 理论本质上是对 CAP 的延伸和补充，更具体地说，是对 CAP 中 AP 方案的一个补充。因为它牺牲了一部分一致性，采用最终一致性来换取高可用性。

- **基本可用** ：基本可用是指分布式系统在出现不可预知故障的时候，允许损失部分可用性。但是这不等价于不可用。

  什么叫允许损失部分可用性？

    - 响应时间上的损失 ：正常情况下，处理用户请求需要0.5s返回结果，如果出现故障，我接受系统在3s内返回结果
    - 系统功能上的损失 ：正常情况下，用户可以使用所有系统的功能，如果出现故障，我接受非核心功能无法使用。

- **软状态** ：软状态指允许系统中的数据存在中间状态，并认为该中间状态的存在不会影响系统的整体可用性，即允许系统在不同节点的数据副本之间进行数据同步的过程存在延迟。

- **最终一致性** ：最终一致性强调的是系统中所有的数据副本，在经过一段时间的同步后，最终能够打到的一个一致的状态。因此，最终一致性的本质是需要系统保证最终数据能够达到一致，

  分布式中，一致性的三种级别：

    - 强一致性 ：系统写入了什么，读出来就是什么
    - 弱一致性 ：不一定可以读取到最新写入的值，也不保证多少时间后读取的数据是最新的，只是会尽量保证*某个时刻*达到数据一致的状态。
    - 最终一致性 ：弱一致性的升级版，系统会保证*在一定时间内*达到数据一致的状态。

